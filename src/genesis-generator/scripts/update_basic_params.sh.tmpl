#!/bin/bash
# Update basic genesis parameters: app_version, genesis_time, chain_id, initial_height

GENESIS_FILE="/tmp/genesis.json"
TEMP_FILE="/tmp/genesis_temp.json"

# Update all 4 parameters in one jq command to avoid multiple file rewrites
jq '.app_version = "{{ .AppVersion }}" | .genesis_time = "{{ .GenesisTime }}" | .chain_id = "{{ .ChainID }}" | .initial_height = "{{ .InitialHeight }}"' "$GENESIS_FILE" > "$TEMP_FILE" && mv "$TEMP_FILE" "$GENESIS_FILE"

echo "Updated basic genesis parameters"
